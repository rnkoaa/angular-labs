<div class="card">
  <div class="card-header">
    <span class="float-left">
      <i class="fa fa-align-justify"></i> Bordered Table
    </span>
    <div ngbDropdown placement="bottom-right" class="float-right">
      <span class="table-config-icon" id="tableConfigDropdown" ngbDropdownToggle>
        <i class="fa fa-wrench"></i>
      </span>
      <div ngbDropdownMenu aria-labelledby="tableConfigDropdown">
        <button class="dropdown-item" (click)="changeItemsPerPage($event)">Items Per Page</button>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="row">
      <div class="col-md-9">
        <app-data-table-search></app-data-table-search>
      </div>
      <div class="col-md-3">
        <app-data-table-entries></app-data-table-entries>
      </div>
    </div>
    <table class="table table-striped table-hover table-bordered">
      <thead>
        <tr>
          <th *ngFor="let column of columns" (click)="headerClicked(column, $event)" class="column-header"
            [class.sortable]="column.sortable">
            <span class="float-left">
              <ng-container *ngIf="!column.headerTemplate">{{column.header}}</ng-container>
              <ng-template *ngIf="column.headerTemplate" [ngTemplateOutlet]="column.headerTemplate"
                [ngTemplateOutletContext]="{ $implicit: { header: col.header } }"></ng-template>
            </span>
            <span *ngIf="column.sortable" class="float-right column-sort-icon">
              <i class="fa fa-sort" *ngIf="column.sortable && column.sortDirection === ''"></i>
              <i class="fa fa-sort-asc" *ngIf="column.sortable && column.sortDirection === 'asc'"></i>
              <i class="fa fa-sort-desc" *ngIf="column.sortable && column.sortDirection === 'desc'"></i>
            </span>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of displayData">
          <td *ngFor="let column of columns" [attr.width]="column.width > 0 ? column.width : 0">
            <ng-container *ngIf="!column.bodyTemplate">{{row[column.name]}}</ng-container>
            <ng-template *ngIf="column.bodyTemplate" [ngTemplateOutlet]="column.bodyTemplate"
              [ngTemplateOutletContext]="{ $implicit: { value: row[column.name] }, row: row }">
            </ng-template>
          </td>
        </tr>
      </tbody>
    </table>

    <app-data-table-pagination *ngIf="pagination" [offset]="offset" [limit]="limit" [size]="itemCount"
      (pageChange)="onPageChange($event)"></app-data-table-pagination>
  </div>
</div>
